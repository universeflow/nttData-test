@startuml
title  Diagrama de Componente - Ntt-Data

skinparam roundcorner 20
skinparam BoxPadding 5
skinparam SequenceBoxBackgroundColor AliceBlue

package "Controller" {
    [AutenticacionController]
    [UsuarioController]
}

package "Service" {
    [AutenticacionService]
    [UsuarioService]
    [JwtService]
}

package "Repository" {
    [UsuarioRepository]
}

package "Config" {
    [SecurityConfiguration]
    [ApplicationConfiguration]
    [JwtAuthenticationFilter]
}



package "Interfaces" {
    [ValidPassword]
}

package "Exception" {
    [GlobalExceptionHandler]
    [UserAlreadyExistsException]
}

package "Mapper" {
    [UsuarioMapper]
}

package "Entity" {
    [UsuarioEntity]
    [TelefonoEntity]
}

package "DTO" {
    [UsuarioRequestDto]
    [UsuarioResponseDto]
    [TelefonoDto]
}

database "H2Database" {
    [test]
}

[AutenticacionController] --> [AutenticacionService]
[UsuarioController] --> [UsuarioService]

[AutenticacionService] --> [UsuarioRepository]
[AutenticacionService] --> [UserAlreadyExistsException]
[UsuarioService] --> [UsuarioRepository]

[SecurityConfiguration] --> [JwtAuthenticationFilter]
[JwtAuthenticationFilter] --> [JwtService]

[UsuarioService] --> [UsuarioMapper]
[UsuarioService] --> [GlobalExceptionHandler]

[ApplicationConfiguration] --> [UsuarioRepository]
[UsuarioRepository] --> [UsuarioEntity]
[UsuarioRepository] --> [TelefonoEntity]
[UsuarioRepository] --> [H2Database]

[SecurityConfiguration] --> [AutenticacionController]
[SecurityConfiguration] --> [UsuarioController]

[AutenticacionController] --> [UsuarioRequestDto]
[AutenticacionController] --> [UsuarioResponseDto]
[UsuarioController] --> [UsuarioRequestDto]
[UsuarioController] --> [UsuarioResponseDto]
[UsuarioRequestDto] --> [TelefonoDto]
[UsuarioRequestDto] --> [ValidPassword]
[UsuarioResponseDto] --> [TelefonoDto]

@enduml